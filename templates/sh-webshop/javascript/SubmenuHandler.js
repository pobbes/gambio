/* SubmenuHandler.js <?php
#   --------------------------------------------------------------
#   SubmenuHandler.js 2011-11-11 gambio
#   Gambio GmbH
#   http://www.gambio.de
#   Copyright (c) 2011 Gambio GmbH
#   Released under the GNU General Public License (Version 2)
#   [http://www.gnu.org/licenses/gpl-2.0.html]
#   --------------------------------------------------------------
?>*/
/*<?php
if($GLOBALS['coo_debugger']->is_enabled('uncompressed_js') == false)
{
?>*/
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('j S(f,g){4(B)C.D(\'S 1I\');3.1d=1J;4(p(f)!=\'s\'){3.1d=3.N(f)}3.1e=1A;4(p(g)!=\'s\'){3.1e=3.N(g)}3.I=1f();3.1g=1A;n h=3,E=1f(),1h=0,10=0,1i=\'\',16=y,17=F;3.1j=j(){4(B)C.D(\'S 1j\');3.1k();3.I=3.T(0,3.I);3.1B();$(\'.18\').U(\'V\',h.11);$(\'.18\').12(\'V\',j(){h.11(F)});$(\'.5 m 1l\').U(\'V\',h.1m);$(\'.5 m 1l\').12(\'V\',h.1m);$(\'.5 m\').U(\'1n\');$(\'.5 m\').12(\'1n\',j(){4(B)C.D(\'.5 m 1n\');$(3).G(\'a\').x(\'1K\',\'\');17=y;19(10);1i=$(3).x(\'k\');n a=3;4(16==F){1h=1C(j(){h.1o(a)},h.1d)}O{4(B)C.D(\'S 1L 1M\');h.1o(a)}});$(\'.5 m\').U(\'W\');$(\'.5 m\').12(\'W\',j(){4(B)C.D(\'.5 m W\');19(1h);1i=\'\'});$(\'.5\').U(\'W\');$(\'.5\').12(\'W\',j(){4(B)C.D(\'.5 W\');17=F;4(p(1N)==\'s\'){10=1C(h.11,h.1e)}})};3.1o=j(a){4(p($(a).l(\'.5\').x(\'k\'))!=\'s\'){n b=0;4($(a).l(\'.5\').x(\'k\').M(\'q\')!=-1){b=$(a).l(\'.5\').x(\'k\').u(\'q\',\'\')}4(B)C.D(\'.5 m: 1O \'+b);4(b==0){$(\'.1P-1Q.1R.5 J m a.A\').X(\'A\')}O{$(\'#q\'+b+\' J m a.A\').X(\'A\')}$(a).G(\'a\').1S(\'A\');n c=0;4($(a).x(\'k\').M(\'t\')!=-1){c=$(a).x(\'k\').u(\'t\',\'\')}4(B)C.D(\'.5 m: 1T \'+c);h.1D(b,c)}};3.1D=j(b,c){13=3.N(b);1p=3.N(c);n d=3.14(13,3.I);4(d==y){1U.1V({1W:\'1X=1Y&k=\'+13+\'&1Z=\'+20,21:\'22.23\',24:"25",26:F,27:j(a){d=h.14(13,h.I);4(d==y){$(\'.18:o\').28(a);h.1k();h.I=h.T(13,h.I)}h.1q(1p)}}).29}O{h.1q(1p)}};3.1q=j(a){4(p(a)==\'s\'||a==0||Y(a)){P y}3.1g++;n b=$(\'#t\'+a).1E().K,1a=$(\'#t\'+a).1E().L+2a.2b(\'t\'+a).2c,1b=0;4(p($(\'.5[k^="q"]:o\').G(\'v:o\').8(\'1r-K-Q\'))!=\'s\'){4(Y($(\'.5[k^="q"]:o\').G(\'v:o\').8(\'1r-K-Q\').u(\'w\',\'\'))){1b=0}O{1b=H($(\'.5[k^="q"]:o\').G(\'v:o\').8(\'1r-K-Q\').u(\'w\',\'\'))}}b-=1b;n c=0;4(p($(\'.5[k^="q"]:o\').G(\'v:o\').8(\'r-K\'))!=\'s\'){4(Y($(\'.5[k^="q"]:o\').G(\'v:o\').8(\'r-K\').u(\'w\',\'\'))){c=0}O{c=H($(\'.5[k^="q"]:o\').G(\'v:o\').8(\'r-K\').u(\'w\',\'\'))}}b-=c;n d=0;4(p($(\'#t\'+a).l(\'v\').8(\'r-K\'))!=\'s\'){d=H($(\'#t\'+a).l(\'v\').8(\'r-L\').u(\'w\',\'\'))}n e=0;4(p($(\'#t\'+a).l(\'v\').8(\'r-2d\'))!=\'s\'){e=H($(\'#t\'+a).l(\'v\').8(\'r-R\').u(\'w\',\'\'))}1a+=d+e-2;4(3.1s(a)==y){1a+=7}$(\'#q\'+a).l(\'.9\').8({\'z-15\':3.1g,K:b,L:1a});3.1F();3.1t(a);1u(n i=0;i<E.1c;i++){4(B)C.D(E[i])}3.1G(a)};3.1G=j(a){n b=3.N(a);$(\'#q\'+b).l(\'.9\').2e();E=3.T(\'q\'+b,E);$(\'.5\').1H(j(){4($(3).x(\'k\')!=\'\'&&h.14($(3).x(\'k\'),E)==y){$(3).l(\'.9\').1v();$(3).G(\'J m a.A\').X(\'A\')}});16=y;n c=0;4(p($(\'#t\'+b).l(\'.9\').8(\'z-15\'))!=\'s\'&&$(\'#t\'+b).l(\'.9\').8(\'z-15\')!=\'2f\'){c=H($(\'#t\'+b).l(\'.9\').8(\'z-15\'))}1u(n i=0;i<E.1c;i++){4(c<($(\'#\'+E[i]).l(\'.9\').8(\'z-15\'))){$(\'#\'+E[i]+\' J m a.A\').X(\'A\');16=F}}};3.1t=j(a){n b=3.N(a);4($(\'#t\'+b).l(\'.5\').x(\'k\')!=\'\'){n c=$(\'#t\'+b).l(\'.5\').x(\'k\');4(p(c)!=\'s\'){E=3.T(c,E);1w=c.u(\'q\',\'\');4(1w!=\'0\'){3.1t(1w)}}}};3.1F=j(){E=1f()};3.14=j(a,b){n c=y;1u(n i=0;i<b.1c;i++){4(b[i]==a){c=F;2g}}P c};3.T=j(a,b){4(3.14(a,b)==y){b.2h(a)}P b};3.N=j(a){1x=0;4(p(a)!=\'s\'||Y(a)==y){1x=H(a)}P 1x};3.11=j(a){4(B)C.D(\'S 11\');4(p(a)==\'s\'){a=y}4(a==F){4(17==F){19(10);$(\'.5[k^="q"]\').l(\'.9\').1v();$(\'.5 J m a.A\').X(\'A\');$(\'.18\').U(\'V\',3)}}O{19(10);$(\'.5[k^="q"]\').l(\'.9\').1v();$(\'.5 J m a.A\').X(\'A\')}};3.1s=j(a){n b=y,Z=0;4(Y(a)){Z=a.u(/[^\\d]+/g,\'\');4(Y(Z)){4(B)C.D(\'S 1s(): 2i 2j "\'+a+\'"\');P y}}O{Z=a}4(p($(\'#t\'+Z).l(\'.5\'))==\'2k\'&&$(\'#t\'+Z).l(\'.5\').x(\'k\').M(\'q\')!=-1){b=F}P b};3.1B=j(){n a=\'\',1y=\'\';$(\'v[k^="q"]\').1H(j(){a=$(3).x(\'k\').u(\'q\',\'\');4($(\'#t\'+a).1c>0){1y=$(\'#t\'+a).l(\'.5\').x(\'k\').u(\'q\',\'\');h.I=h.T(1y,h.I)}})};3.1m=j(){4(B)C.D(\'.5 m 1l V, 2l 2m: \'+$(3).l(\'m\').G(\'a:o\').x(\'1z\'));2n.1z=$(3).l(\'m\').G(\'a:o\').x(\'1z\');P F};3.1k=j(){4(2o.2p.2q(/2r [0-6]\\./)){n a=0;4(p($(\'.9 .5\').8(\'r-L\'))!=\'s\'&&$(\'.9 .5\').8(\'r-L\').M(\'w\')!=-1){a+=H($(\'.9 .5\').8(\'r-L\').u(\'w\',\'\'))}4(p($(\'.9 .5\').8(\'r-R\'))!=\'s\'&&$(\'.9 .5\').8(\'r-R\').M(\'w\')!=-1){a+=H($(\'.9 .5\').8(\'r-R\').u(\'w\',\'\'))}4(p($(\'.9 .5 v:o\').8(\'r-L\'))!=\'s\'&&$(\'.9 .5 v:o\').8(\'r-L\').M(\'w\')!=-1){a+=H($(\'.9 .5 v:o\').8(\'r-L\').u(\'w\',\'\'))}4(p($(\'.9 .5 v:o\').8(\'r-R\'))!=\'s\'&&$(\'.9 .5 v:o\').8(\'r-R\').M(\'w\')!=-1){a+=H($(\'.9 .5 v:o\').8(\'r-R\').u(\'w\',\'\'))}4(p($(\'.9 .5 J m\').8(\'Q\'))!=\'s\'&&$(\'.9 .5 J m\').8(\'Q\').M(\'w\')!=-1){n b=H($(\'.9 .5 J m\').8(\'Q\').u(\'w\',\'\'));b+=a;$(\'.9\').8(\'Q\',b+\'w\')}}};3.1j()}',62,152,'|||this|if|submenu|||css|submenu_container||||||||||function|id|closest|li|var|first|typeof|submenu_box_id_|padding|undefined|menu_cat_id_|replace|div|px|attr|false||active|fb|console|log|v_visible_menu_ids_array|true|find|Number|v_parent_ids_array|ul|top|left|search|clear_number|else|return|width|right|SubmenuHandler|push_id|die|click|mouseleave|removeClass|isNaN|c_parent_id|v_timeout_close|close_all|live|c_parents_id|in_array|index|v_inactive_submenus_shown|v_allow_close_all|wrap_shop|clearTimeout|t_left|t_border_top_width|length|v_delay_open|v_delay_close|Array|v_z_index|v_timeout_open|v_active_element|init_binds|ie6_fix|img|open_link|mouseenter|open_menu|c_categories_id|load_submenu|border|is_submenu|set_visible_menu_ids|for|hide|t_categories_id|c_number|parent_id|href|500|find_loaded_submenus|setTimeout|get_submenus_by_categories_id|offset|reset_visible_menu_ids|show_submenu|each|ready|250|title|open_delay|ignored|gm_style_edit_mode_running|parents_id|content|box|categories|addClass|categories_id|jQuery|ajax|data|module|submenus|XTCsid|gm_session_id|url|request_port|php|type|GET|async|success|prepend|html|document|getElementById|offsetWidth|bottom|show|auto|break|push|wrong|parameter|object|open|link|location|navigator|appVersion|match|MSIE'.split('|'),0,{}));
/*<?php
}
else
{
?>*/
function SubmenuHandler(p_delay_open, p_delay_close)
{
	if(fb)console.log('SubmenuHandler ready');

	this.v_delay_open = 250; // unit: ms
	if(typeof(p_delay_open) != 'undefined')
	{
		this.v_delay_open = this.clear_number(p_delay_open);
	}

	this.v_delay_close = 500; // unit: ms
	if(typeof(p_delay_close) != 'undefined')
	{
		this.v_delay_close = this.clear_number(p_delay_close);
	}

	this.v_parent_ids_array = Array();
	this.v_z_index = 500;
	var coo_this = this;
	var v_visible_menu_ids_array = Array();
	var v_timeout_open = 0;
	var v_timeout_close = 0;
	var v_active_element = '';
	var v_inactive_submenus_shown = false;
	var v_allow_close_all = true;


	this.init_binds = function()
	{
		if(fb)console.log('SubmenuHandler init_binds');

		this.ie6_fix();

		this.v_parent_ids_array = this.push_id(0, this.v_parent_ids_array);
		this.find_loaded_submenus();

		$('.wrap_shop').die('click', coo_this.close_all);
		$('.wrap_shop').live('click', function(){coo_this.close_all(true)});

		$('.submenu li img').die('click', coo_this.open_link);
		$('.submenu li img').live('click', coo_this.open_link);

		$('.submenu li').die('mouseenter');
		$('.submenu li').live('mouseenter', function()
		{
			if(fb)console.log('.submenu li mouseenter');

			// clear title obscuring the menu
			$(this).find('a').attr('title', '');

			v_allow_close_all = false;

			clearTimeout(v_timeout_close);

			v_active_element = $(this).attr('id');

			var t_coo_this = this;

			if(v_inactive_submenus_shown == true)
			{
				v_timeout_open = setTimeout(function(){coo_this.open_menu(t_coo_this)}, coo_this.v_delay_open);
			}
			// ignore open_delay if there are no submenus that could be left accidentally
			else
			{
				if(fb)console.log('SubmenuHandler open_delay ignored')
				coo_this.open_menu(t_coo_this);
			}
		});

		$('.submenu li').die('mouseleave');
		$('.submenu li').live('mouseleave', function()
		{
			if(fb)console.log('.submenu li mouseleave');

			clearTimeout(v_timeout_open);
			v_active_element = '';
		});

		$('.submenu').die('mouseleave');
		$('.submenu').live('mouseleave', function()
		{
			if(fb)console.log('.submenu mouseleave');

			v_allow_close_all = true;

			if(typeof(gm_style_edit_mode_running) == 'undefined')
			{
				v_timeout_close = setTimeout(coo_this.close_all, coo_this.v_delay_close);
			}
		});
	}


	this.open_menu = function(p_coo_this)
	{
		if(typeof($(p_coo_this).closest('.submenu').attr('id')) != 'undefined')
		{
			var t_parents_id = 0;
			if($(p_coo_this).closest('.submenu').attr('id').search('submenu_box_id_') != -1)
			{
				t_parents_id = $(p_coo_this).closest('.submenu').attr('id').replace('submenu_box_id_', '');
			}
			if(fb)console.log('.submenu li: parents_id ' + t_parents_id);

			if(t_parents_id == 0)
			{
				$('.content-box.categories.submenu ul li a.active').removeClass('active');
			}
			else
			{
				$('#submenu_box_id_' + t_parents_id + ' ul li a.active').removeClass('active');

			}
			$(p_coo_this).find('a').addClass('active');

			var t_categories_id = 0;
			if($(p_coo_this).attr('id').search('menu_cat_id_') != -1)
			{
				t_categories_id = $(p_coo_this).attr('id').replace('menu_cat_id_', '');
			}
			if(fb)console.log('.submenu li: categories_id ' + t_categories_id);

			coo_this.get_submenus_by_categories_id(t_parents_id, t_categories_id);
		}
	}


	this.get_submenus_by_categories_id = function(p_parents_id, p_categories_id)
	{
		c_parents_id = this.clear_number(p_parents_id);
		c_categories_id = this.clear_number(p_categories_id);

		var t_already_loaded = this.in_array(c_parents_id, this.v_parent_ids_array);

		if(t_already_loaded == false)
		{
			jQuery.ajax(
			{
				data:		'module=submenus&id=' + c_parents_id  + '&XTCsid=' + gm_session_id,
				url: 		'request_port.php',
				type: 		"GET",
				async:		true,
				success:	function(t_submenus_html)
				{
					t_already_loaded = coo_this.in_array(c_parents_id, coo_this.v_parent_ids_array);
					if(t_already_loaded == false)
					{
						$('.wrap_shop:first').prepend(t_submenus_html);
						coo_this.ie6_fix();
						coo_this.v_parent_ids_array = coo_this.push_id(c_parents_id, coo_this.v_parent_ids_array);
					}
					coo_this.load_submenu(c_categories_id);
				}
			}).html;
		}
		else
		{
			coo_this.load_submenu(c_categories_id);
		}

	}


	this.load_submenu = function(p_categories_id)
	{
		if(typeof(p_categories_id) == 'undefined' || p_categories_id == 0 || isNaN(p_categories_id))
		{
			return false;
		}

		this.v_z_index++;

		var t_top = $('#menu_cat_id_' + p_categories_id).offset().top;
		var t_left = $('#menu_cat_id_' + p_categories_id).offset().left + document.getElementById('menu_cat_id_' + p_categories_id).offsetWidth;

		var t_border_top_width = 0;
		if(typeof($('.submenu[id^="submenu_box_id_"]:first').find('div:first').css('border-top-width')) != 'undefined')
		{
			if(isNaN($('.submenu[id^="submenu_box_id_"]:first').find('div:first').css('border-top-width').replace('px', '')))
			{
				t_border_top_width = 0;
			}
			else
			{
				t_border_top_width = Number($('.submenu[id^="submenu_box_id_"]:first').find('div:first').css('border-top-width').replace('px', ''));
			}

		}
		t_top -= t_border_top_width;

		var t_padding_top = 0;
		if(typeof($('.submenu[id^="submenu_box_id_"]:first').find('div:first').css('padding-top')) != 'undefined')
		{
			if(isNaN($('.submenu[id^="submenu_box_id_"]:first').find('div:first').css('padding-top').replace('px', '')))
			{
				t_padding_top = 0;
			}
			else
			{
				t_padding_top = Number($('.submenu[id^="submenu_box_id_"]:first').find('div:first').css('padding-top').replace('px', ''));
			}
		}
		t_top -= t_padding_top;

		var t_padding_left = 0;
		if(typeof($('#menu_cat_id_' + p_categories_id).closest('div').css('padding-top')) != 'undefined')
		{
			t_padding_left = Number($('#menu_cat_id_' + p_categories_id).closest('div').css('padding-left').replace('px', ''));
		}
		var t_padding_right = 0;
		if(typeof($('#menu_cat_id_' + p_categories_id).closest('div').css('padding-bottom')) != 'undefined')
		{
			t_padding_right = Number($('#menu_cat_id_' + p_categories_id).closest('div').css('padding-right').replace('px', ''));
		}
		t_left += t_padding_left + t_padding_right - 2;

		if(this.is_submenu(p_categories_id) == false)
		{
			t_left += 7;
		}

		$('#submenu_box_id_' + p_categories_id).closest('.submenu_container').css(
		{
			'z-index': this.v_z_index,
			top: t_top,
			left: t_left
		});

		this.reset_visible_menu_ids();
		this.set_visible_menu_ids(p_categories_id);

		for(var i = 0; i < v_visible_menu_ids_array.length; i++)
		{
			if(fb)console.log(v_visible_menu_ids_array[i]);
		}

		this.show_submenu(p_categories_id);
	}


	this.show_submenu = function(p_categories_id)
	{
		var c_categories_id = this.clear_number(p_categories_id);

		$('#submenu_box_id_' + c_categories_id).closest('.submenu_container').show();
		v_visible_menu_ids_array = this.push_id('submenu_box_id_' + c_categories_id, v_visible_menu_ids_array);

		// hide menus not belonging to the last opened menu
		$('.submenu').each(function()
		{
			if($(this).attr('id') != '' && coo_this.in_array($(this).attr('id'), v_visible_menu_ids_array) == false)
			{
				$(this).closest('.submenu_container').hide();

				// reset styles
				$(this).find('ul li a.active').removeClass('active');
			}
		});

		// remove highlight-class (active) from submenus of current hovered menu entry
		v_inactive_submenus_shown = false;

		var current_z_index = 0;
		if(typeof($('#menu_cat_id_' + c_categories_id).closest('.submenu_container').css('z-index')) != 'undefined' && $('#menu_cat_id_' + c_categories_id).closest('.submenu_container').css('z-index') != 'auto')
		{
			current_z_index = Number($('#menu_cat_id_' + c_categories_id).closest('.submenu_container').css('z-index'));
		}

		for(var i = 0; i < v_visible_menu_ids_array.length; i++)
		{
			if(current_z_index < ($('#' + v_visible_menu_ids_array[i]).closest('.submenu_container').css('z-index')))
			{
				$('#' + v_visible_menu_ids_array[i] + ' ul li a.active').removeClass('active');
				v_inactive_submenus_shown = true;
			}
		}
	}


	this.set_visible_menu_ids = function(p_categories_id)
	{
		var c_categories_id = this.clear_number(p_categories_id);

		if($('#menu_cat_id_' + c_categories_id).closest('.submenu').attr('id') != '')
		{
			var t_submenu_box_id = $('#menu_cat_id_' + c_categories_id).closest('.submenu').attr('id');
			
			if(typeof(t_submenu_box_id) != 'undefined')
			{
				v_visible_menu_ids_array = this.push_id(t_submenu_box_id, v_visible_menu_ids_array);

				t_categories_id = t_submenu_box_id.replace('submenu_box_id_', '');

				if(t_categories_id != '0')
				{
					this.set_visible_menu_ids(t_categories_id);
				}
			}
		}
	}


	this.reset_visible_menu_ids = function()
	{
		v_visible_menu_ids_array = Array();
	}


	this.in_array = function(p_needle, p_haystack_array)
	{
		var t_found = false;
		for(var i = 0; i < p_haystack_array.length; i++)
		{
			if(p_haystack_array[i] == p_needle)
			{
				t_found = true;
				break;
			}
		}

		return t_found;
	}


	this.push_id = function(p_id, p_array)
	{
		if(this.in_array(p_id, p_array) == false)
		{
			p_array.push(p_id);
		}

		return p_array;
	}


	this.clear_number = function(p_number)
	{
		c_number = 0;

		if(typeof(p_number) != 'undefined' || isNaN(p_number) == false)
		{
			c_number = Number(p_number);
		}

		return c_number;
	}


	this.close_all = function(p_close_by_click)
	{
		if(fb)console.log('SubmenuHandler close_all');

		if(typeof(p_close_by_click) == 'undefined')
		{
			p_close_by_click = false;
		}

		if(p_close_by_click == true)
		{
			if(v_allow_close_all == true)
			{
				clearTimeout(v_timeout_close);

				$('.submenu[id^="submenu_box_id_"]').closest('.submenu_container').hide();
				$('.submenu ul li a.active').removeClass('active');
				$('.wrap_shop').die('click', this);
			}
		}
		else
		{
			clearTimeout(v_timeout_close);

			$('.submenu[id^="submenu_box_id_"]').closest('.submenu_container').hide();
			$('.submenu ul li a.active').removeClass('active');
		}
	}


	this.is_submenu = function(p_parent_id)
	{
		var t_is_submenu = false;
		var c_parent_id = 0;

		if(isNaN(p_parent_id))
		{
			c_parent_id = p_parent_id.replace(/[^\d]+/g, '');
			if(isNaN(c_parent_id))
			{
				if(fb)console.log('SubmenuHandler is_submenu(): wrong parameter "' + p_parent_id + '"');
				return false;
			}
		}
		else
		{
			c_parent_id = p_parent_id;
		}

		// check if it is a submenu
		if(typeof($('#menu_cat_id_' + c_parent_id).closest('.submenu')) == 'object'
			&& $('#menu_cat_id_' + c_parent_id).closest('.submenu').attr('id').search('submenu_box_id_') != -1)
		{
			t_is_submenu = true;
		}

		return t_is_submenu;
	}


	this.find_loaded_submenus = function()
	{
		var submenu_box_id = '';
		var parent_id = '';

		$('div[id^="submenu_box_id_"]').each(function()
		{
			submenu_box_id = $(this).attr('id').replace('submenu_box_id_', '');
			if($('#menu_cat_id_' + submenu_box_id).length > 0)
			{
				parent_id = $('#menu_cat_id_' + submenu_box_id).closest('.submenu').attr('id').replace('submenu_box_id_', '');
				coo_this.v_parent_ids_array = coo_this.push_id(parent_id, coo_this.v_parent_ids_array);
			}
		});
	}


	this.open_link = function()
	{
		if(fb)console.log('.submenu li img click, open link: ' + $(this).closest('li').find('a:first').attr('href'));
		location.href = $(this).closest('li').find('a:first').attr('href');

		return true;
	}


	// IE6 needs fixed width for outer div-block '.submenu_container' calculated by inner div-blocks paddings
	// ('.submenu', '.submenu div:first') and width of '.submenu ul li' (only set in IE6)
	this.ie6_fix = function()
	{
		if(navigator.appVersion.match(/MSIE [0-6]\./))
		{
			var t_paddings = 0;
			if(typeof($('.submenu_container .submenu').css('padding-left')) != 'undefined'
				&& $('.submenu_container .submenu').css('padding-left').search('px') != -1)
			{
				t_paddings += Number($('.submenu_container .submenu').css('padding-left').replace('px', ''));
			}
			if(typeof($('.submenu_container .submenu').css('padding-right')) != 'undefined'
				&& $('.submenu_container .submenu').css('padding-right').search('px') != -1)
			{
				t_paddings += Number($('.submenu_container .submenu').css('padding-right').replace('px', ''));
			}
			if(typeof($('.submenu_container .submenu div:first').css('padding-left')) != 'undefined'
				&& $('.submenu_container .submenu div:first').css('padding-left').search('px') != -1)
			{
				t_paddings += Number($('.submenu_container .submenu div:first').css('padding-left').replace('px', ''));
			}
			if(typeof($('.submenu_container .submenu div:first').css('padding-right')) != 'undefined'
				&& $('.submenu_container .submenu div:first').css('padding-right').search('px') != -1)
			{
				t_paddings += Number($('.submenu_container .submenu div:first').css('padding-right').replace('px', ''));
			}

			if(typeof($('.submenu_container .submenu ul li').css('width')) != 'undefined'
				&& $('.submenu_container .submenu ul li').css('width').search('px') != -1)
			{
				var t_width = Number($('.submenu_container .submenu ul li').css('width').replace('px', ''));
				t_width += t_paddings;
				$('.submenu_container').css('width', t_width + 'px');
			}
		}
	}


	this.init_binds();
}
/*<?php
}
?>*/

